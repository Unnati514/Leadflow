<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>LeadFlow Pro — Lead Management System for HSR Motors</title>
<style>
/* ---------- BASIC RESET ---------- */
:root{
  --bg:#ffffff; --text:#111; --muted:#666; --border:#ddd; --accent:#000;
  --card:#fff;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  font-size:16px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--text); background:#f7f7f7;
  -webkit-font-smoothing:antialiased;
  line-height:1.45;
}

/* ---------- TOP BAR ---------- */
.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 18px; background:#fff; border-bottom:1px solid var(--border);
}
.brand{display:flex; flex-direction:column;}
.brand h1{font-size:22px;margin:0;font-weight:700}
.subtitle{font-size:13px;color:var(--muted); margin-top:2px}

/* ---------- NAVIGATION TABS ---------- */
.tabs{display:flex; gap:8px}
.tab{
  display:inline-block;padding:8px 12px;color:var(--muted);
  text-decoration:none;border-radius:6px;cursor:pointer;
}
.tab.active{background:#111;color:#fff}
.tab:hover{background:#f0f0f0;color:var(--text)}

/* ---------- MAIN LAYOUT ---------- */
.main{max-width:1200px;margin:18px auto;padding:0 18px}
.screen{padding-bottom:30px; display:none}
.screen.active{display:block}
.screen-title{font-size:20px;margin:12px 0 10px 0;font-weight:600}

/* ---------- CONTROLS ---------- */
.controls{display:flex;gap:8px;align-items:center;margin-bottom:12px;flex-wrap:wrap}
.search{padding:10px;border:1px solid var(--border);border-radius:8px;min-width:240px}
.select{padding:10px;border:1px solid var(--border);border-radius:8px}
.btn{
  padding:9px 12px;border:1px solid var(--border);background:#fff;border-radius:8px;
  cursor:pointer;
}
.btn-primary{background:#111;color:#fff;border-color:#111}
.btn:hover{background:#f4f4f4}

/* ---------- TABLE ---------- */
.table-wrap{background:#fff;border-radius:8px;border:1px solid var(--border);overflow:hidden}
.lead-table{width:100%;border-collapse:collapse}
.lead-table th, .lead-table td{
  padding:12px 14px;text-align:left;border-bottom:1px solid var(--border);
  font-size:14px;
}
.lead-name{font-weight:600}
.muted{color:var(--muted);font-size:13px}

/* ---------- BADGES ---------- */
.badge{
  display:inline-block;padding:6px 8px;border-radius:6px;
  font-weight:700;font-size:12px;
  background:#fff;border:1px solid var(--border);
}

/* ---------- STATS ---------- */
.stats-row{display:flex;gap:18px;margin-top:12px}
.stat{
  background:#fff;border:1px solid var(--border);
  padding:12px;border-radius:8px;font-size:14px;
}

/* ---------- GRID HELPERS ---------- */
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:12px}

/* ---------- CARDS ---------- */
.card{
  background:#fff;border:1px solid var(--border);
  padding:14px;border-radius:8px;
}
.card-sm{
  background:#fff;border:1px solid var(--border);
  padding:10px;border-radius:8px;margin-bottom:8px;
}
.row-sm{display:flex;justify-content:space-between;gap:6px}
.meta{font-size:12px;color:var(--muted);margin-top:6px}

/* ---------- TIMELINE ---------- */
.timeline{display:flex;flex-direction:column;gap:12px}
.tick{
  padding:10px;border-radius:6px;background:#fafafa;border:1px solid var(--border);
}
.tick .time{font-size:12px;color:var(--muted);margin-bottom:6px}

/* ---------- KANBAN ---------- */
.kanban{display:flex;gap:12px;align-items:flex-start;overflow:auto;padding-bottom:8px}
.column{
  min-width:200px;background:#fff;border:1px solid var(--border);
  padding:10px;border-radius:8px;
}
.column h4{margin:0 0 10px 0;font-size:15px}

/* ---------- DASHBOARD (ENHANCED) ---------- */
.dashboard-grid{
  display:grid;
  grid-template-columns: 1fr 360px;
  gap:16px;
  align-items:start;
  margin-bottom:12px;
}

/* KPI GRID */
.kpi-grid{
  display:grid;
  grid-template-columns: repeat(3,1fr);
  gap:12px;
  margin-bottom:12px;
}
.kpi{
  background:#fff;border:1px solid var(--border);padding:14px;border-radius:8px;
}
.kpi .label{font-size:13px;color:var(--muted)}
.kpi .value{font-size:22px;font-weight:700;margin-top:6px}

/* Charts panel */
.charts-panel{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
}
.chart-card{
  background:#fff;border:1px solid var(--border);padding:12px;border-radius:8px;
  min-height:160px;display:flex;flex-direction:column;justify-content:center;align-items:center;
}
.chart-placeholder{
  width:100%;height:110px;border:2px dashed var(--border);border-radius:6px;
  display:flex;align-items:center;justify-content:center;color:var(--muted);font-style:italic;
  padding:8px;text-align:center;background:#fafafa;
}

/* Right side panel */
.side-panel{
  display:flex;flex-direction:column;gap:12px;
}
.legend{
  background:#fff;border:1px solid var(--border);padding:12px;border-radius:8px;
}
.legend-item{display:flex;align-items:center;gap:8px;margin-bottom:8px}
.legend-dot{width:14px;height:14px;border-radius:3px;background:#000}
.legend-label{font-size:13px;color:var(--muted)}

.card.small{padding:12px}

/* Footer */
.footer{
  padding:12px;text-align:center;color:var(--muted);
  font-size:13px;border-top:1px solid var(--border);margin-top:24px;
}

/* Chatbot (design-only) */
.chatbot-toggle {
  position: fixed; right: 20px; bottom: 20px;
  width: 58px; height: 58px; background: #111; color: #fff;
  border-radius: 50%; display:flex;align-items:center;justify-content:center;
  font-weight:700; box-shadow: 0 6px 18px rgba(0,0,0,0.12); z-index:9999;
}
.chatbot-window {
  position: fixed; right: 20px; bottom: 90px; width: 360px; max-height: 70vh;
  background: #fff; border-radius: 12px; border: 1px solid #ddd; box-shadow: 0 10px 30px rgba(0,0,0,0.12);
  display:flex; flex-direction:column; overflow:hidden; z-index:9999;
}
.chatbot-header { padding: 12px; font-weight:700; border-bottom:1px solid #eee; background:#fafafa; }
.chatbot-body { padding:12px; overflow:auto; flex:1; background:#f7f7f7; display:flex; flex-direction:column; gap:10px; }
.chat-msg { max-width:80%; padding:10px 12px; border-radius:10px; font-size:14px; line-height:1.35; }
.chat-msg.bot { align-self:flex-start; background:#fff; border:1px solid #e9e9e9; }
.chat-msg.user { align-self:flex-end; background:#111; color:#fff; }
.chatbot-input-row { padding:10px; background:#fafafa; border-top:1px solid #eee; display:flex; gap:8px; }
.chatbot-input { flex:1; padding:10px; border:1px solid #ddd; border-radius:8px; font-size:13px; }
.chatbot-send-btn { padding:10px 14px; border-radius:8px; background:#111; color:#fff; border:none; font-size:13px; }

/* Small utilities for SVG labels */
.svg-label { font-size:12px; fill:#333; font-weight:600; }

/* Responsive */
@media (max-width:1100px){
  .dashboard-grid{grid-template-columns:1fr}
  .charts-panel{grid-template-columns:1fr}
  .kpi-grid{grid-template-columns:repeat(2,1fr)}
}
@media (max-width:700px){
  .kpi-grid{grid-template-columns:1fr}
}
</style>
</head>
<body>

<!-- TOP NAV -->
<header class="topbar">
  <div class="brand">
    <h1>LeadFlow Pro</h1>
    <div class="subtitle">Lead Management System for HSR Motors</div>
  </div>

  <nav class="tabs" aria-label="Primary">
    <div class="tab active" data-target="listing">Lead Listing</div>
    <div class="tab" data-target="details">Lead Details</div>
    <div class="tab" data-target="pipeline">Pipeline</div>
    <div class="tab" data-target="dashboard">Dashboard</div>
  </nav>
</header>

<main class="main">
  <!-- SCREEN 1: LISTING -->
  <section id="listing" class="screen active">
    <h2 class="screen-title">Lead Listing</h2>
    <div class="controls">
      <input class="search" placeholder="Search name, phone, source..." id="searchInput"/>
      <select class="select" id="statusFilter"><option>All Status</option><option>New</option><option>Contacted</option></select>
      <select class="select" id="sourceFilter"><option>All Sources</option><option>Facebook</option><option>Google</option><option>Website</option></select>
      <button class="btn btn-primary" id="applyBtn">Apply</button>
    </div>

    <div class="table-wrap">
      <table class="lead-table" id="leadTable">
        <thead>
          <tr><th></th><th>Lead</th><th>Phone</th><th>Source</th><th>Status</th><th>Assigned</th><th>Last Contact</th></tr>
        </thead>
        <tbody>
          <tr data-leadid="HSR-2024-001247">
            <td><input type="checkbox" /></td>
            <td>
              <div class="lead-name">Akshay Kumar</div>
              <div class="muted">Sedan • ₹8–12L</div>
            </td>
            <td>+91 12345 67890</td>
            <td>Facebook</td>
            <td><span class="badge">NEW</span></td>
            <td>Sumit Kaur</td>
            <td>2 hours ago</td>
          </tr>

          <tr data-leadid="HSR-2024-001248">
            <td><input type="checkbox" /></td>
            <td>
              <div class="lead-name">Smriti Jadhav</div>
              <div class="muted">SUV • Family</div>
            </td>
            <td>+91 98765 43210</td>
            <td>Google</td>
            <td><span class="badge">CONTACTED</span></td>
            <td>Vidhya Goel</td>
            <td>1 day ago</td>
          </tr>

          <tr data-leadid="HSR-2024-001249">
            <td><input type="checkbox" /></td>
            <td>
              <div class="lead-name">Vicky Batra</div>
              <div class="muted">Website • Financing ready</div>
            </td>
            <td>+91 97867 56443</td>
            <td>Website</td>
            <td><span class="badge">QUALIFIED</span></td>
            <td>Saloni Shah</td>
            <td>3 days ago</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="stats-row" style="margin-top:14px;">
      <div class="stat">Active leads: <strong>127</strong></div>
      <div class="stat">Hot leads: <strong>8</strong></div>
      <div class="stat">Avg response: <strong>2.4 hrs</strong></div>
    </div>
  </section>

  <!-- SCREEN 2: DETAILS -->
  <section id="details" class="screen">
    <h2 class="screen-title">Lead Details</h2>
    <div class="grid-2">
      <div class="card" id="leadProfile">
        <h3 id="leadName">Akshay Kumar</h3>
        <p class="muted" id="leadMeta">Lead ID: HSR-2024-001247 • Created: Today 2:30 PM</p>

        <dl class="info-list" style="margin-top:10px;">
          <dt style="font-weight:600">Phone</dt><dd id="leadPhone">+91 12345 67890</dd>
          <dt style="font-weight:600">Email</dt><dd id="leadEmail">akshayk@example.com</dd>
          <dt style="font-weight:600">Source</dt><dd id="leadSource">Facebook Ads</dd>
          <dt style="font-weight:600">Budget</dt><dd id="leadBudget">₹8–12 Lakhs</dd>
          <dt style="font-weight:600">Preferred</dt><dd id="leadPref">Sedan • Automatic</dd>
          <dt style="font-weight:600">Assigned</dt><dd id="leadAssigned">Sumit Kaur</dd>
        </dl>

        <div style="margin-top:12px;">
          <button class="btn btn-primary" onclick="alert('Simulated call action')">Call</button>
          <button class="btn" onclick="alert('Simulated WhatsApp')">WhatsApp</button>
          <button class="btn" onclick="alert('Simulated schedule')">Schedule</button>
        </div>

        <!-- AI Lead Score display (computed via small JS snippet below) -->
        <div style="margin-top:14px;">
          <div style="display:flex;justify-content:space-between;align-items:center;">
            <div style="font-weight:700">Lead Score</div>
            <div id="leadScoreValue" style="font-weight:700">—</div>
          </div>
          <div style="margin-top:8px;background:#f3f3f3;border-radius:6px;padding:8px;">
            <div style="height:8px;background:#e6e6e6;border-radius:4px;overflow:hidden;">
              <div id="leadScoreBar" style="height:100%;width:0%;background:#111;"></div>
            </div>
            <div id="leadScoreReasons" class="muted" style="margin-top:8px;font-size:13px;"></div>
          </div>
        </div>
      </div>

      <div class="card">
        <h3>Activity Timeline</h3>
        <div class="timeline" style="margin-top:8px;">
          <div class="tick">
            <div class="time">Today • 4:15 PM</div>
            <div class="text"><strong>Follow-up scheduled:</strong> Tomorrow 11:00 AM</div>
          </div>
          <div class="tick">
            <div class="time">Today • 4:00 PM</div>
            <div class="text"><strong>Note:</strong> High intent — recommend financing options</div>
          </div>
          <div class="tick">
            <div class="time">Today • 3:45 PM</div>
            <div class="text"><strong>Call:</strong> No answer, voicemail left</div>
          </div>
        </div>

        <div style="margin-top:12px;">
          <h4 style="margin:0 0 6px 0;">Quick Notes</h4>
          <div class="muted">• Prefers weekend test drives • Interested in Honda City</div>
        </div>
      </div>
    </div>
  </section>

  <!-- SCREEN 3: PIPELINE -->
  <section id="pipeline" class="screen">
    <h2 class="screen-title">Pipeline (Kanban)</h2>
    <div class="kanban">
      <div class="column">
        <h4>New <small>(12)</small></h4>
        <div class="card-sm">
          <div class="row-sm"><strong>Akshay Kumar</strong><span class="muted">Sedan</span></div>
          <div class="meta">2 hrs ago • Sumit</div>
        </div>
        <div class="card-sm">
          <div class="row-sm"><strong>Sneha Desai</strong><span class="muted">Hatchback</span></div>
          <div class="meta">3 hrs ago • Priya</div>
        </div>
      </div>

      <div class="column">
        <h4>Contacted <small>(18)</small></h4>
        <div class="card-sm">
          <div class="row-sm"><strong>Priya Shah</strong><span class="muted">SUV</span></div>
          <div class="meta">1 day ago • Raj</div>
        </div>
      </div>

      <div class="column">
        <h4>Qualified <small>(15)</small></h4>
        <div class="card-sm">
          <div class="row-sm"><strong>Vicky Batra</strong><span class="muted">Website</span></div>
          <div class="meta">3 days ago • Saloni</div>
        </div>
      </div>

      <div class="column">
        <h4>Test Drive <small>(10)</small></h4>
      </div>

      <div class="column">
        <h4>Won <small>(5)</small></h4>
      </div>
    </div>
  </section>

  <!-- SCREEN 4: DASHBOARD -->
  <section id="dashboard" class="screen">
    <h2 class="screen-title">Dashboard</h2>

    <div class="dashboard-grid">
      <div>
        <div class="kpi-grid">
          <div class="kpi">
            <div class="label">Total Leads (This Month)</div>
            <div class="value">342</div>
            <div class="small">↑ 23% vs last month</div>
          </div>
          <div class="kpi">
            <div class="label">Conversion Rate</div>
            <div class="value">12.4%</div>
            <div class="small">↑ 2.1% vs last month</div>
          </div>
          <div class="kpi">
            <div class="label">Avg Response Time</div>
            <div class="value">2.4 hrs</div>
            <div class="small">Target: &lt; 2 hrs</div>
          </div>
        </div>

        <div class="charts-panel">
          <!-- PIE CHART (static SVG) -->
          <div class="chart-card" aria-hidden="false">
            <div style="width:100%; display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;">
              <strong>Lead Source Breakdown</strong>
              <span class="small">Static</span>
            </div>

            <!-- SVG pie chart: slices correspond to percentages -->
            <svg viewBox="0 0 200 120" width="100%" height="140" role="img" aria-label="Lead source pie chart">
              <!-- center labels -->
              <g transform="translate(20,10)">
                <!-- Pie positioned at x=60,y=60 with r=50 -->
                <!-- Slices drawn using path (manually calculated angles for visual) -->
                <!-- Facebook 40% -->
                <path d="M60 60 L110 60 A50 50 0 0 1 60 10 Z" fill="#1f2937"></path>
                <!-- Google 30% -->
                <path d="M60 60 L60 10 A50 50 0 0 1 12.68 86.6 Z" fill="#6b7280"></path>
                <!-- Website 20% -->
                <path d="M60 60 L12.68 86.6 A50 50 0 0 1 82 101 Z" fill="#9ca3af"></path>
                <!-- Walk-in 7% -->
                <path d="M60 60 L82 101 A50 50 0 0 1 106.9 85.3 Z" fill="#d1d5db"></path>
                <!-- Events 3% -->
                <path d="M60 60 L106.9 85.3 A50 50 0 0 1 110 60 Z" fill="#e5e7eb"></path>

                <!-- legend text -->
                <g transform="translate(140,10)" font-family="Arial, sans-serif" font-size="12">
                  <rect x="0" y="0" width="12" height="12" fill="#1f2937"></rect>
                  <text x="18" y="10" class="svg-label">Facebook — 40%</text>

                  <rect x="0" y="20" width="12" height="12" fill="#6b7280"></rect>
                  <text x="18" y="30" class="svg-label">Google — 30%</text>

                  <rect x="0" y="40" width="12" height="12" fill="#9ca3af"></rect>
                  <text x="18" y="50" class="svg-label">Website — 20%</text>

                  <rect x="0" y="60" width="12" height="12" fill="#d1d5db"></rect>
                  <text x="18" y="70" class="svg-label">Walk-in — 7%</text>

                  <rect x="0" y="80" width="12" height="12" fill="#e5e7eb"></rect>
                  <text x="18" y="90" class="svg-label">Events — 3%</text>
                </g>
              </g>
            </svg>

            <div class="small" style="margin-top:8px;">Interactive idea: clicking a slice filters leads list (prototype)</div>
          </div>

          <!-- BAR CHART (static SVG) -->
          <div class="chart-card">
            <div style="width:100%; display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;">
              <strong>Top Vehicle Interest</strong>
              <span class="small">Static</span>
            </div>

            <!-- SVG bar chart -->
            <svg viewBox="0 0 320 160" width="100%" height="140" role="img" aria-label="Vehicle interest bar chart">
              <!-- axes labels -->
              <g font-family="Arial, sans-serif" font-size="11" fill="#374151">
                <!-- Bars (values: Sedan 35, SUV 25, Hatchback 18, Luxury 8) scaled to width -->
                <!-- Sedan -->
                <rect x="40" y="20" width="220" height="20" rx="4" fill="#111"></rect>
                <text x="12" y="35" class="svg-label">Sedan</text>
                <text x="270" y="35" font-size="11" fill="#111">35</text>

                <!-- SUV -->
                <rect x="40" y="50" width="160" height="20" rx="4" fill="#6b7280"></rect>
                <text x="12" y="65" class="svg-label">SUV</text>
                <text x="205" y="65" font-size="11" fill="#6b7280">25</text>

                <!-- Hatchback -->
                <rect x="40" y="80" width="115" height="20" rx="4" fill="#9ca3af"></rect>
                <text x="12" y="95" class="svg-label">Hatchback</text>
                <text x="160" y="95" font-size="11" fill="#9ca3af">18</text>

                <!-- Luxury -->
                <rect x="40" y="110" width="50" height="20" rx="4" fill="#d1d5db"></rect>
                <text x="12" y="125" class="svg-label">Luxury</text>
                <text x="95" y="125" font-size="11" fill="#6b7280">8</text>
              </g>
            </svg>

            <div class="small" style="margin-top:8px;">Shows which segments have highest interest</div>
          </div>
        </div>

        <div class="funnel-card" style="margin-top:12px;">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <h3 style="margin:0;font-size:16px;">Conversion Funnel Snapshot</h3>
            <div class="small">Last 30 days</div>
          </div>
          <div style="margin-top:8px;">
            <div style="display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px dashed var(--border);"><div>New</div><div>342</div></div>
            <div style="display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px dashed var(--border);"><div>Contacted</div><div>274</div></div>
            <div style="display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px dashed var(--border);"><div>Qualified</div><div>156</div></div>
            <div style="display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px dashed var(--border);"><div>Test Drive</div><div>30</div></div>
            <div style="display:flex;justify-content:space-between;padding:6px 0;"><div>Sold</div><div>42</div></div>
          </div>
          <div class="small" style="margin-top:8px;">Insight: biggest drop occurs at Contacted → Qualified (40% drop)</div>
        </div>
      </div>

      <aside class="side-panel">
        <div class="legend">
          <strong style="display:block;margin-bottom:8px;">Legend</strong>
          <div class="legend-item"><div class="legend-dot" style="background:#111"></div><div class="legend-label">Facebook (40%)</div></div>
          <div class="legend-item"><div class="legend-dot" style="background:#6b7280"></div><div class="legend-label">Google (30%)</div></div>
          <div class="legend-item"><div class="legend-dot" style="background:#9ca3af"></div><div class="legend-label">Website (20%)</div></div>
        </div>

        <div class="card small">
          <strong>Alerts</strong>
          <ul style="padding-left:18px;margin-top:8px;">
            <li>15 leads not contacted &gt; 3 days</li>
            <li>5 high-priority leads without follow-up</li>
            <li>Auto-assign queue: 12 unassigned</li>
          </ul>
          <div style="margin-top:8px;"><button class="btn" onclick="alert('View Alerts (prototype)')">View Alerts</button></div>
        </div>

        <div class="card small">
          <strong>Top Performers</strong>
          <div style="margin-top:8px;">
            <div class="row-sm"><span>Saloni Shah</span><span>18 deals</span></div>
            <div class="row-sm"><span>Raj Kumar</span><span>12 deals</span></div>
            <div class="row-sm"><span>Amit Singh</span><span>9 deals</span></div>
          </div>
        </div>

        <div class="card small">
          <strong>Export</strong>
          <div class="small" style="margin-top:8px;">PDF / Excel / CSV</div>
          <div style="margin-top:8px;"><button class="btn" onclick="alert('Generate report (prototype)')">Generate Report</button></div>
        </div>
      </aside>
    </div>
  </section>
</main>

<!-- DESIGN-ONLY CHATBOT (no functionality) -->
<div class="chatbot-toggle" title="LeadFlow Assistant">AI</div>
<div class="chatbot-window" aria-hidden="false" style="display:block;">
  <div class="chatbot-header">LeadFlow AI Assistant</div>
  <div class="chatbot-body">
    <div class="chat-msg bot">Hi! I'm the LeadFlow Assistant. I can summarize leads, suggest next actions, or find lead details.</div>
    <div class="chat-msg user">Show Akshay Kumar</div>
    <div class="chat-msg bot">Akshay Kumar — Budget ₹8–12L, prefers Sedan Automatic. Status: New • Assigned: Sumit Kaur. Recommended action: Call and discuss financing.</div>
    <div style="height:8px;border-radius:6px;background:#e9e9e9;width:40px;"></div>
  </div>
  <div class="chatbot-input-row">
    <input class="chatbot-input" placeholder="Type a message… (design only)" disabled />
    <button class="chatbot-send-btn" disabled>Send</button>
  </div>
</div>
<!-- End design-only chatbot -->

<footer class="footer">
  <small>LeadFlow Pro — Lead Management System for HSR Motors • Prepared by Unnati</small>
</footer>

<script>
/* ---------- Basic screen navigation ---------- */
document.querySelectorAll('.tabs .tab').forEach(tab=>{
  tab.addEventListener('click', (e)=>{
    document.querySelectorAll('.tabs .tab').forEach(t=>t.classList.remove('active'));
    tab.classList.add('active');
    const target = tab.dataset.target;
    document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
    document.getElementById(target).classList.add('active');
  });
});

/* ---------- Simple rule-based lead scoring (demo) ----------
   This computes a sample score for the selected lead and displays it in the Lead Details card.
   It is purely client-side demo logic — no AI/API calls.
------------------------------------------------------------------*/
function computeLeadScore(lead) {
  // lead: { source, hasBudget(boolean), formComplete(boolean), recentActivityHours }
  let score = 0;
  const reasons = [];

  // Source weight
  const sourceWeight = { 'Facebook': 20, 'Google': 25, 'Website': 30, 'Walk-in': 35, 'Events': 15 };
  const sw = sourceWeight[lead.source] || 10;
  score += sw;
  reasons.push(`${lead.source} source +${sw}`);

  if (lead.hasBudget) { score += 25; reasons.push('Budget specified +25'); }
  if (lead.formComplete) { score += 15; reasons.push('Form completed +15'); }
  if (lead.recentActivityHours <= 2) { score += 20; reasons.push('Quick response +20'); }
  if (lead.prefersAutomatic) { score += 10; reasons.push('Prefers automatic +10'); }

  score = Math.min(100, score);
  return { score, reasons };
}

// Demo lead object — in production this would come from selected lead data
const demoLead = {
  id: 'HSR-2024-001247',
  name: 'Akshay Kumar',
  source: 'Facebook',
  hasBudget: true,
  formComplete: true,
  recentActivityHours: 1.6,
  prefersAutomatic: true
};

// Render score into Lead Details area
function renderScoreForLead(leadObj) {
  const res = computeLeadScore(leadObj);
  const scoreVal = res.score;
  const reasons = res.reasons.join(' • ');
  document.getElementById('leadScoreValue').textContent = scoreVal + '/100';
  document.getElementById('leadScoreBar').style.width = scoreVal + '%';
  document.getElementById('leadScoreReasons').textContent = reasons;
}

// Initialize display after DOM ready
document.addEventListener('DOMContentLoaded', function(){
  renderScoreForLead(demoLead);

  // Allow clicking a row to show details (simple behaviour)
  document.querySelectorAll('#leadTable tbody tr').forEach(row=>{
    row.addEventListener('click', ()=>{
      const leadId = row.dataset.leadid || '';
      // for this mockup, we only have demo data; show details for Akshay if clicked
      if (leadId === demoLead.id) {
        // show details screen and update score
        document.querySelectorAll('.tabs .tab').forEach(t=>t.classList.remove('active'));
        document.querySelector('.tab[data-target="details"]').classList.add('active');
        document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
        document.getElementById('details').classList.add('active');
        renderScoreForLead(demoLead);
      } else {
        // simple placeholder: switch to details anyway
        document.querySelectorAll('.tabs .tab').forEach(t=>t.classList.remove('active'));
        document.querySelector('.tab[data-target="details"]').classList.add('active');
        document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
        document.getElementById('details').classList.add('active');
      }
    });
  });
});
</script>
</body>
</html>
